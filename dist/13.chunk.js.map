{"version":3,"sources":["E:/Học 2017/hoc/CLYT_V1.0_DEV/src/app/Apps/Frame/Frame.component.css","E:/Học 2017/hoc/CLYT_V1.0_DEV/src/app/Apps/Frame/Frame.component.html","E:/Học 2017/hoc/CLYT_V1.0_DEV/src/app/Apps/Frame/Frame.component.ts","E:/Học 2017/hoc/CLYT_V1.0_DEV/src/app/Apps/Frame/Frame.module.ts"],"names":[],"mappings":"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","file":"13.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".fstyle {\\r\\n    height: 100%;\\r\\n    border: none;\\r\\n    padding: 0 0 25px 0;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// E:/Học 2017/hoc/CLYT_V1.0_DEV/src/app/Apps/Frame/Frame.component.css\n// module id = ../../../../../src/app/Apps/Frame/Frame.component.css\n// module chunks = 13","module.exports = \"\\r\\n<ng-container *ngIf=\\\"winInfo\\\">\\r\\n    <div class=\\\"fxs-blade-content-container\\\" #scrollE>\\r\\n        <div class=\\\"fxs-block\\\" [style.width]=\\\"winInfo.DoRong+'px'\\\">\\r\\n            <!-- <button (click)=\\\"removeComponent()\\\">xoa</button> -->\\r\\n            <app-window [name]=\\\"winInfo.Ten\\\" [icon]=\\\"winInfo.IconText\\\" url=\\\"/apps\\\">\\r\\n                <div style=\\\"position:relative; width:100%; height:100%\\\" *ngIf=\\\"loadding\\\">\\r\\n                    <div style=\\\"position:absolute; width:160px; height:30px; left: calc(50% - 80px); top:calc(50% - 30px);\\\">\\r\\n                        <img src=\\\"assets/66.gif\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n                <iframe  class=\\\"fstyle\\\" style=\\\"border:none\\\" width=\\\"100%\\\" height=\\\"100%\\\" [src]=\\\"winInfo.LinkIFrame | safe: 'resourceUrl'\\\"\\r\\n                    #iframe></iframe>\\r\\n            </app-window>\\r\\n        </div>\\r\\n<!--\\r\\n        <ng-container>\\r\\n            <div class=\\\"fxs-block\\\" [style.width]=\\\"winInfo.DoRong+'px'\\\">\\r\\n                <app-window [name]=\\\"winInfo.Ten\\\" [icon]=\\\"winInfo.IconText\\\" url=\\\"/apps\\\">\\r\\n                    <app-ChildFrame></app-ChildFrame>\\r\\n                </app-window>\\r\\n            </div>\\r\\n            <div class=\\\"fxs-block\\\" [style.width]=\\\"winInfo.DoRong+'px'\\\">\\r\\n                <app-window [name]=\\\"winInfo.Ten\\\" [icon]=\\\"winInfo.IconText\\\" url=\\\"/apps\\\">\\r\\n                    <app-ChildFrame></app-ChildFrame>\\r\\n                </app-window>\\r\\n            </div>\\r\\n        </ng-container> -->\\r\\n        <ng-template #alertContainer></ng-template>\\r\\n        <div class=\\\"fxs-block\\\" style=\\\"background:white\\\" [style.width]=\\\"'300px'\\\"></div>\\r\\n    </div>\\r\\n</ng-container>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// E:/Học 2017/hoc/CLYT_V1.0_DEV/src/app/Apps/Frame/Frame.component.html\n// module id = ../../../../../src/app/Apps/Frame/Frame.component.html\n// module chunks = 13","import {\r\n    Component, OnInit, AfterViewInit,\r\n    ComponentFactory, ComponentFactoryResolver, ViewChild, ElementRef, TemplateRef,\r\n    ViewContainerRef, Inject\r\n} from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { SettingService } from '../../Share/Services/setting.service';\r\nimport { ChildFrameComponent } from './ChildFrame/ChildFrame.component';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { ChiTietBenhComponent } from '../Tracuubenh/chi-tiet-benh/chi-tiet-benh.component';\r\nimport { element } from 'protractor';\r\n\r\n\r\n@Component({\r\n    selector: 'app-frame',\r\n    templateUrl: './Frame.component.html',\r\n    styleUrls: ['./Frame.component.css']\r\n})\r\nexport class FrameComponent implements OnInit, AfterViewInit {\r\n    @ViewChild('alertContainer', { read: ViewContainerRef }) container;\r\n    @ViewChild('scrollE') private myScrollContainer: ElementRef;\r\n\r\n    winInfo: any;\r\n    components = [];\r\n    url: string;\r\n    screens: any;\r\n    loadding = true;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private activatedroute: ActivatedRoute,\r\n        private settingService: SettingService,\r\n        private componentFactoryResolver: ComponentFactoryResolver,\r\n        @Inject(DOCUMENT) private document: any\r\n    ) {\r\n        this.activatedroute.params.subscribe(pars => {\r\n            this.url = pars['route'];\r\n            const menus = this.settingService.getMenu();\r\n\r\n            menus.forEach(m => {\r\n                m.items.forEach(e => {\r\n                    // console.log(e);\r\n                    if (e.url === this.url) {\r\n                        this.winInfo = e;\r\n                    }\r\n\r\n                });\r\n            });\r\n        });\r\n        window.addEventListener('message', (e) => {\r\n            this.receiveMessage(e);\r\n        }, false);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.loadding = true;\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n\r\n\r\n    }\r\n\r\n    receiveMessage(event: any) {\r\n        // console.log(event.origin);\r\n        try {\r\n            const messData = JSON.parse(event.data);\r\n            if (messData.LoaiLenh === 'CloseFrame') {\r\n                this.removeComponent(messData.ManHinh);\r\n            }\r\n        } catch (e) {\r\n\r\n        }\r\n\r\n        if (event.origin === 'http://api.truongkhoa.com' || event.origin === 'http://admincloud.truongkhoa.com') {\r\n\r\n            const messData = JSON.parse(event.data);\r\n            let componentFactory = null;\r\n            let dyynamicComponent = null;\r\n\r\n            // idBenh\r\n            if (messData.LoaiLenh === 'LoadFrame') {\r\n                if (messData.TrangThai === 'EndLoad') {\r\n                    this.loadding = false;\r\n                }\r\n            } else if (messData.LoaiLenh === 'Chi tiết bệnh') {\r\n                this.removeComponent(messData.ManHinh);\r\n                componentFactory = this.componentFactoryResolver.resolveComponentFactory(ChiTietBenhComponent);\r\n                dyynamicComponent = <ChiTietBenhComponent>this.container.createComponent(componentFactory).instance;\r\n                dyynamicComponent.idBenh = messData.IdBenh;\r\n                if (!messData.IdBenh) {\r\n                    dyynamicComponent.idBenh = messData.TenBenh;\r\n                }\r\n            } else {\r\n                this.removeComponent(messData.ManHinh);\r\n                componentFactory = this.componentFactoryResolver.resolveComponentFactory(ChildFrameComponent);\r\n                dyynamicComponent = <ChildFrameComponent>this.container.createComponent(componentFactory).instance;\r\n                dyynamicComponent.Prop = messData;\r\n            }\r\n\r\n            // this.container.remo;\r\n            // this.container.createComponent(componentFactory);\r\n\r\n\r\n            // this.components = [...this.components, dyynamicComponent];\r\n            // this.myScrollContainer.nativeElement.scrollLeft = -10000;\r\n            // window.document.body.scrollLeft = 1000;\r\n            // console.log(this.myScrollContainer);\r\n            // const pageScrollInstance: PageScrollInstance = PageScrollInstance.newInstance(\r\n            //     {\r\n            //         document: this.document,\r\n            //         scrollTarget: '#child',\r\n            //         verticalScrolling: false\r\n            //     });\r\n            // this.pageScrollService.start(pageScrollInstance);\r\n        }\r\n    }\r\n\r\n    removeComponent(i: number) {\r\n        if (i === 1) {\r\n            this.container.clear();\r\n        } else {\r\n            for (i; i <= this.container.length; i++) {\r\n                this.container.detach(i);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// E:/Học 2017/hoc/CLYT_V1.0_DEV/src/app/Apps/Frame/Frame.component.ts","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FrameComponent } from './Frame.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ShareModule } from '../../Share/Components/share.module';\r\nimport { ChildFrameComponent } from './ChildFrame/ChildFrame.component';\r\nimport { ChiTietBenhComponent} from '../Tracuubenh/chi-tiet-benh/chi-tiet-benh.component';\r\nimport { BenhService } from '../../Share/Services/benh.service';\r\nimport { ForumService } from '../../Share/Services/forum.service';\r\nimport { WinframeComponent } from './winframe/winframe.component';\r\n\r\nconst routing: Routes = [\r\n    {\r\n        path: '',\r\n        component: FrameComponent\r\n    }\r\n];\r\nconst Routing: ModuleWithProviders = RouterModule.forChild(routing);\r\n\r\n@NgModule(\r\n    {\r\n        imports: [\r\n            CommonModule,\r\n            Routing,\r\n            ShareModule\r\n        ],\r\n        declarations: [\r\n            FrameComponent,\r\n            // ChildFrameComponent,\r\n            // ChiTietBenhComponent,\r\n    // WinframeComponent\r\n],\r\n        providers: [\r\n            BenhService,\r\n            ForumService\r\n        ],\r\n        entryComponents: [\r\n            ChildFrameComponent,\r\n            ChiTietBenhComponent\r\n        ]\r\n    }\r\n)\r\nexport class FrameModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// E:/Học 2017/hoc/CLYT_V1.0_DEV/src/app/Apps/Frame/Frame.module.ts"],"sourceRoot":"webpack:///"}